<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <script src="https://unpkg.com/vue"></script>
    <link
      href="https://cdn.jsdelivr.net/npm/animate.css@3.5.1"
      rel="stylesheet"
      type="text/css"
    />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/velocity/1.2.3/velocity.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/lodash.js/4.14.1/lodash.min.js"></script>
    <style>
      body {
        display: grid;
        place-items: center;
        text-align: center;
      }
      /* example-1 */
      .fade-enter-active {
        transition: all 0.3s ease;
      }
      .fade-leave-active {
        transition: all 0.7s ease-in-out;
      }
      .fade-enter,
      .fade-leave-to {
        transform: translateY(10px);
        opacity: 0;
      }
      /* example-2 */
      .bounce-enter-active {
        animation: bounce 0.5s;
      }
      .bounce-leave-active {
        animation: bounce 0.5s reverse;
      }
      @keyframes bounce {
        from {
          transform: scale(0);
        }
        50% {
          transform: scale(1.5);
        }
        to {
          transform: scale(1);
        }
      }
      /* example-5 */
      .list-item {
        transition: all 1s;
        display: inline-block;
        margin-right: 10px;
      }
      .list-enter,
      .list-leave-to {
        opacity: 0;
        transform: translateY(30px);
      }
      .list-leave-active {
        position: absolute;
      }
    </style>
  </head>
  <body>
    <div id="example-1">
      <button @click="show = !show">Animate</button>
      <transition name="fade">
        <p v-if="show">Hello</p>
      </transition>
    </div>

    <div id="example-2">
      <button @click="show = !show">Animate</button>
      <transition name="bounce">
        <p v-if="show">Hello</p>
      </transition>
    </div>

    <div id="example-3">
      <button @click="show = !show">Animate</button>
      <transition
        enter-active-class="animated bounceInDown"
        leave-active-class="animated bounceOutUp"
      >
        <p v-if="show">Hello</p>
      </transition>
    </div>

    <div id="example-4">
      <button @click="show = !show">Animate</button>
      <transition
        @before-enter="beforeEnter"
        @enter="enter"
        @leave="leave"
        :css="false"
      >
        <p v-if="show">Hello</p>
      </transition>
    </div>

    <div id="example-5">
      <button @click="shuffle">Shuffle</button>
      <button @click="add">Add</button>
      <button @click="remove">Remove</button>
      <transition-group name="list" tag="p">
        <span v-for="item in items" :key="item" class="list-item">
          {{item}}
        </span>
      </transition-group>
    </div>

    <div id="example-6">
      <input v-model="query" />
      <transition-group
        name="straggered-fade"
        tag="ul"
        :css="false"
        @before-enter="beforeEnter"
        @enter="enter"
        @leave="leave"
      >
        <li
          v-for="(item, index) in computedList"
          :key="item.msg"
          :data-index="index"
        >
          {{item.msg}}
        </li>
      </transition-group>
    </div>

    <div id="example-7">
      Fade In:
      <input
        type="range"
        v-model="fadeInDuration"
        min="0"
        :max="maxFadeDuration"
      />
      Fade Out:
      <input
        type="range"
        v-model="fadeOutDuration"
        min="0"
        :max="maxFadeDuration"
      />
      <transition
        :css="false"
        @before-enter="beforeEnter"
        @enter="enter"
        @leave="leave"
      >
        <p v-if="show">Hello</p>
      </transition>
      <button v-if="stop" @click="stop = false; show = false">Animate</button>
      <button v-else @click="stop = true">Stop</button>
    </div>

    <script>
      // example-1
      new Vue({
        el: "#example-1",
        data: {
          show: true,
        },
      });

      // example-2
      new Vue({
        el: "#example-2",
        data: {
          show: true,
        },
      });

      // example-3
      new Vue({
        el: "#example-3",
        data: {
          show: true,
        },
      });

      // example-4
      new Vue({
        el: "#example-4",
        data: {
          show: false,
        },
        methods: {
          beforeEnter(el) {
            el.style.opacity = 0;
            el.style.transformOrigin = "left";
          },
          enter(el, done) {
            Velocity(el, { opacity: 1, fontSize: "1.4em" }, { duration: 300 });
            Velocity(el, { fontSize: "1em" }, { complete: done });
          },
          leave(el, done) {
            Velocity(
              el,
              { translateX: "15px", rotateZ: "50deg" },
              { duration: 600 }
            );
            Velocity(el, { rotateZ: "100deg" }, { loop: 2 });
            Velocity(
              el,
              {
                rotateZ: "45deg",
                translateY: "30px",
                translateX: "30px",
                opacity: 0,
              },
              { complete: done }
            );
          },
        },
      });

      // example-5
      new Vue({
        el: "#example-5",
        data: {
          items: [1, 2, 3, 4, 5, 6, 7, 8, 9],
          nextNum: 10,
        },
        methods: {
          randomIndex() {
            return ~~(Math.random() * this.items.length);
          },
          add() {
            this.items.splice(this.randomIndex(), 0, this.nextNum++);
          },
          remove() {
            this.items.splice(this.randomIndex(), 1);
          },
          shuffle() {
            this.items = _.shuffle(this.items);
          },
        },
      });

      // example-6
      new Vue({
        el: "#example-6",
        data: {
          query: "",
          list: [
            { msg: "Брюс Ли" },
            { msg: "Джеки Чан" },
            { msg: "Чак Норрис" },
            { msg: "Джет Ли" },
            { msg: "Кунг Фьюри" },
          ],
        },
        computed: {
          computedList() {
            const vm = this;
            return this.list.filter(
              (item) =>
                item.msg.toLowerCase().indexOf(vm.query.toLowerCase()) !== -1
            );
          },
        },
        methods: {
          beforeEnter(el) {
            el.style.opacity = 0;
            el.style.height = 0;
          },
          enter(el, done) {
            const delay = el.dataset.index * 150;
            setTimeout(() => {
              Velocity(el, { opacity: 1, height: "1.6em" }, { complete: done });
            }, delay);
          },
          leave(el, done) {
            const delay = el.dataset.index * 150;
            setTimeout(() => {
              Velocity(el, { opacity: 0, height: 0 }, { complete: done });
            }, delay);
          },
        },
      });

      // example-7
      const vm = new Vue({
        el: "#example-7",
        data: {
          show: true,
          fadeInDuration: 1000,
          fadeOutDuration: 1000,
          maxFadeDuration: 1500,
          stop: true,
        },
        mounted: () => {
          show = true;
        },
        methods: {
          beforeEnter: (el) => {
            el.style.opacity = 0;
          },
          enter: (el, done) => {
            Velocity(
              el,
              { opacity: 1 },
              {
                duration: vm.fadeInDuration,
                complete: () => {
                  done();
                  if (!vm.stop) app.show = false;
                },
              }
            );
          },
          leave: (el, done) => {
            Velocity(
              el,
              { opacity: 0 },
              {
                duration: vm.fadeOutDuration,
                complete: () => {
                  done();
                  vm.show = true;
                },
              }
            );
          },
        },
      });
    </script>
  </body>
</html>
